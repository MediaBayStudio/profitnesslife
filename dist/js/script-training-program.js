document.addEventListener("DOMContentLoaded",function(){qa(".workout-block").forEach(function(t){$(t).slick({variableWidth:!0,infinite:!1,arrows:!1,slide:".workout",mobileFirst:!0,responsive:[{breakpoint:575.98,settings:{slidesToShow:2}},{breakpoint:767.98,settings:"unslick"}]})}),function(){workoutPopup=new Popup(".workout-popup",{openButtons:".workout",closeButtons:".workout-popup__close"});var n=q(".workout-popup__playlist",workoutPopup),u=q(".workout-popup__video",workoutPopup),r=q(".workout-popup__number",workoutPopup),s=q(".workout-popup__name",workoutPopup),i=q(".workout-popup__descr",workoutPopup),a=q(".workout-popup__title",workoutPopup);workoutPopup.addEventListener("popupbeforeopen",function(){var t=workoutPopup.caller,o=t.getAttribute("data-title"),e=t.closest(".workout")||t,t=q(".workout__title",e),e=JSON.parse(e.getAttribute("data-videos")),p="";u.src=e[0].src,s.textContent=e[0].title,r.textContent=o?"Упражнение "+o:"",a.textContent=t.textContent,e.forEach(function(t,o){p+='<div class="workout-popup__playlist-item'+(0===o?" active":"")+'" data-title="'+t.title+'" data-src="'+t.src+'" data-index="'+(o+1)+'" data-reps-number="'+t.reps.number+'" data-reps-units="'+t.reps.units+'">\n        <span class="workout-popup__playlist-item-play-icon"></span>\n        <span class="workout-popup__playlist-item-number">Упражнение '+(o+1)+'</span>\n        <span class="workout-popup__playlist-item-duration">'+t.duration+"</span>\n      </div>"}),n.innerHTML=p,i.textContent=""}),u.addEventListener("click",function(){u.paused?(u.setAttribute("controls",""),setTimeout(function(){u.play()})):(u.pause(),u.removeAttribute("controls"))}),u.addEventListener("ended",function(){var t,o=q('[data-src="'+u.src+'"]',n),e=q(".active",n),p=o.nextElementSibling;p&&(t=p.getAttribute("data-reps-number"),o=p.getAttribute("data-reps-units"),u.src=p.getAttribute("data-src"),e.classList.remove("active"),p.classList.add("active"),r.textContent="Упражнение "+p.getAttribute("data-index"),s.textContent=p.getAttribute("data-title"),i.textContent=t?"4 подхода по "+t+" "+o:"",u.play())}),n.addEventListener("click",function(t){var o,e,p=t.target;p.classList.contains("workout-popup__playlist-item")&&(o=q(".active",workoutPopup),e=p.getAttribute("data-reps-number"),t=p.getAttribute("data-reps-units"),o.classList.remove("active"),p.classList.add("active"),r.textContent="Упражнение "+p.getAttribute("data-index"),s.textContent=p.getAttribute("data-title"),u.src=p.getAttribute("data-src"),i.textContent=e?"4 подхода по "+e+" "+t:"")})}(),workoutRulesPopup=new Popup(".workout-rules-popup",{openButtons:".workout-rules-popup-open",closeButtons:".workout-rules-popup__close"}),inventoryPopup=new Popup(".inventory-popup",{openButtons:".inventory-popup-open",closeButtons:".inventory-popup__close"})});